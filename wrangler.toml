name = "moody-music-bot-api"
type = "javascript"
account_id = "YOUR_ACCOUNT_ID"
workers_dev = true
route = "api.moodymusicbot.pages.dev/api/*"
zone_id = "YOUR_ZONE_ID"

[env.production]
name = "moody-music-bot-api-prod"
routes = [
  { pattern = "api.moodymusicbot.pages.dev/api/*", zone_name = "YOUR_DOMAIN" }
]

[build]
command = "npm run build:worker"
cwd = "./"
main = "dist/worker.mjs"

[env.production.build]
command = "npm run build:worker"

[triggers.crons]
crons = []

[[env.production.env.vars]]
NODE_ENV = "production"

[[env.production.env.secrets]]
# Add as secrets in Cloudflare dashboard:
# DATABASE_URL
# DISCORD_CLIENT_ID
# DISCORD_CLIENT_SECRET
# SESSION_SECRET
